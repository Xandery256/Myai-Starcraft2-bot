On iteration:  0
RESETTING ENVIRONMENT
Logging to logs/test_run5/PPO_0
---------------------------------
| rollout/           |          |
|    ep_len_mean     | 7.3e+03  |
|    ep_rew_mean     | -109     |
| time/              |          |
|    fps             | 16       |
|    iterations      | 1        |
|    time_elapsed    | 122      |
|    total_timesteps | 202752   |
---------------------------------
----------------------------------------
| rollout/                |            |
|    ep_len_mean          | 7.3e+03    |
|    ep_rew_mean          | -109       |
| time/                   |            |
|    fps                  | 12         |
|    iterations           | 2          |
|    time_elapsed         | 338        |
|    total_timesteps      | 204800     |
| train/                  |            |
|    approx_kl            | 0.13974696 |
|    clip_fraction        | 0.525      |
|    clip_range           | 0.2        |
|    entropy_loss         | -1.26      |
|    explained_variance   | 0.904      |
|    learning_rate        | 0.0003     |
|    loss                 | -0.117     |
|    n_updates            | 990        |
|    policy_gradient_loss | -0.0769    |
|    value_loss           | 0.0232     |
----------------------------------------
RESETTING ENVIRONMENT
----------------------------------------
| rollout/                |            |
|    ep_len_mean          | 7.2e+03    |
|    ep_rew_mean          | -122       |
| time/                   |            |
|    fps                  | 12         |
|    iterations           | 3          |
|    time_elapsed         | 507        |
|    total_timesteps      | 206848     |
| train/                  |            |
|    approx_kl            | 0.19806096 |
|    clip_fraction        | 0.597      |
|    clip_range           | 0.2        |
|    entropy_loss         | -1.23      |
|    explained_variance   | 0.62       |
|    learning_rate        | 0.0003     |
|    loss                 | -0.134     |
|    n_updates            | 1000       |
|    policy_gradient_loss | -0.101     |
|    value_loss           | 0.03       |
----------------------------------------
-----------------------------------------
| rollout/                |             |
|    ep_len_mean          | 7.2e+03     |
|    ep_rew_mean          | -122        |
| time/                   |             |
|    fps                  | 11          |
|    iterations           | 4           |
|    time_elapsed         | 708         |
|    total_timesteps      | 208896      |
| train/                  |             |
|    approx_kl            | 0.009074446 |
|    clip_fraction        | 0.128       |
|    clip_range           | 0.2         |
|    entropy_loss         | -1.2        |
|    explained_variance   | 0.871       |
|    learning_rate        | 0.0003      |
|    loss                 | 838         |
|    n_updates            | 1010        |
|    policy_gradient_loss | -0.014      |
|    value_loss           | 412         |
-----------------------------------------
RESETTING ENVIRONMENT
----------------------------------------
| rollout/                |            |
|    ep_len_mean          | 7.08e+03   |
|    ep_rew_mean          | -134       |
| time/                   |            |
|    fps                  | 11         |
|    iterations           | 5          |
|    time_elapsed         | 891        |
|    total_timesteps      | 210944     |
| train/                  |            |
|    approx_kl            | 0.04357174 |
|    clip_fraction        | 0.27       |
|    clip_range           | 0.2        |
|    entropy_loss         | -1.18      |
|    explained_variance   | 0.953      |
|    learning_rate        | 0.0003     |
|    loss                 | 0.127      |
|    n_updates            | 1020       |
|    policy_gradient_loss | -0.0347    |
|    value_loss           | 1.13       |
----------------------------------------
-----------------------------------------
| rollout/                |             |
|    ep_len_mean          | 7.08e+03    |
|    ep_rew_mean          | -134        |
| time/                   |             |
|    fps                  | 11          |
|    iterations           | 6           |
|    time_elapsed         | 1102        |
|    total_timesteps      | 212992      |
| train/                  |             |
|    approx_kl            | 0.021877434 |
|    clip_fraction        | 0.151       |
|    clip_range           | 0.2         |
|    entropy_loss         | -1.18       |
|    explained_variance   | 0.624       |
|    learning_rate        | 0.0003      |
|    loss                 | 1.19e+03    |
|    n_updates            | 1030        |
|    policy_gradient_loss | -0.013      |
|    value_loss           | 309         |
-----------------------------------------
RESETTING ENVIRONMENT
----------------------------------------
| rollout/                |            |
|    ep_len_mean          | 6.99e+03   |
|    ep_rew_mean          | -107       |
| time/                   |            |
|    fps                  | 11         |
|    iterations           | 7          |
|    time_elapsed         | 1246       |
|    total_timesteps      | 215040     |
| train/                  |            |
|    approx_kl            | 0.18724757 |
|    clip_fraction        | 0.531      |
|    clip_range           | 0.2        |
|    entropy_loss         | -1.26      |
|    explained_variance   | 0.19       |
|    learning_rate        | 0.0003     |
|    loss                 | -0.0879    |
|    n_updates            | 1040       |
|    policy_gradient_loss | -0.0753    |
|    value_loss           | 0.298      |
----------------------------------------
RESETTING ENVIRONMENT
-----------------------------------------
| rollout/                |             |
|    ep_len_mean          | 6.85e+03    |
|    ep_rew_mean          | -84.8       |
| time/                   |             |
|    fps                  | 11          |
|    iterations           | 8           |
|    time_elapsed         | 1390        |
|    total_timesteps      | 217088      |
| train/                  |             |
|    approx_kl            | 0.038816392 |
|    clip_fraction        | 0.204       |
|    clip_range           | 0.2         |
|    entropy_loss         | -1.22       |
|    explained_variance   | 0.0215      |
|    learning_rate        | 0.0003      |
|    loss                 | 501         |
|    n_updates            | 1050        |
|    policy_gradient_loss | 0.00278     |
|    value_loss           | 363         |
-----------------------------------------
----------------------------------------
| rollout/                |            |
|    ep_len_mean          | 6.85e+03   |
|    ep_rew_mean          | -84.8      |
| time/                   |            |
|    fps                  | 12         |
|    iterations           | 9          |
|    time_elapsed         | 1504       |
|    total_timesteps      | 219136     |
| train/                  |            |
|    approx_kl            | 0.02325778 |
|    clip_fraction        | 0.135      |
|    clip_range           | 0.2        |
|    entropy_loss         | -1.34      |
|    explained_variance   | 0.0666     |
|    learning_rate        | 0.0003     |
|    loss                 | 0.413      |
|    n_updates            | 1060       |
|    policy_gradient_loss | -0.0145    |
|    value_loss           | 375        |
----------------------------------------
-----------------------------------------
| rollout/                |             |
|    ep_len_mean          | 6.85e+03    |
|    ep_rew_mean          | -84.8       |
| time/                   |             |
|    fps                  | 12          |
|    iterations           | 10          |
|    time_elapsed         | 1656        |
|    total_timesteps      | 221184      |
| train/                  |             |
|    approx_kl            | 0.046348073 |
|    clip_fraction        | 0.354       |
|    clip_range           | 0.2         |
|    entropy_loss         | -1.16       |
|    explained_variance   | 0.89        |
|    learning_rate        | 0.0003      |
|    loss                 | 0.0302      |
|    n_updates            | 1070        |
|    policy_gradient_loss | -0.0501     |
|    value_loss           | 0.586       |
-----------------------------------------
RESETTING ENVIRONMENT
----------------------------------------
| rollout/                |            |
|    ep_len_mean          | 6.83e+03   |
|    ep_rew_mean          | -93.6      |
| time/                   |            |
|    fps                  | 12         |
|    iterations           | 11         |
|    time_elapsed         | 1798       |
|    total_timesteps      | 223232     |
| train/                  |            |
|    approx_kl            | 0.04539593 |
|    clip_fraction        | 0.303      |
|    clip_range           | 0.2        |
|    entropy_loss         | -1.18      |
|    explained_variance   | 0.879      |
|    learning_rate        | 0.0003     |
|    loss                 | 0.258      |
|    n_updates            | 1080       |
|    policy_gradient_loss | -0.0663    |
|    value_loss           | 6.28       |
----------------------------------------
-----------------------------------------
| rollout/                |             |
|    ep_len_mean          | 6.83e+03    |
|    ep_rew_mean          | -93.6       |
| time/                   |             |
|    fps                  | 12          |
|    iterations           | 12          |
|    time_elapsed         | 1919        |
|    total_timesteps      | 225280      |
| train/                  |             |
|    approx_kl            | 0.046353783 |
|    clip_fraction        | 0.271       |
|    clip_range           | 0.2         |
|    entropy_loss         | -1.27       |
|    explained_variance   | 0.882       |
|    learning_rate        | 0.0003      |
|    loss                 | 0.141       |
|    n_updates            | 1090        |
|    policy_gradient_loss | -0.0471     |
|    value_loss           | 313         |
-----------------------------------------
----------------------------------------
| rollout/                |            |
|    ep_len_mean          | 6.83e+03   |
|    ep_rew_mean          | -93.6      |
| time/                   |            |
|    fps                  | 12         |
|    iterations           | 13         |
|    time_elapsed         | 2161       |
|    total_timesteps      | 227328     |
| train/                  |            |
|    approx_kl            | 0.08729994 |
|    clip_fraction        | 0.488      |
|    clip_range           | 0.2        |
|    entropy_loss         | -1.13      |
|    explained_variance   | 0.905      |
|    learning_rate        | 0.0003     |
|    loss                 | -0.0667    |
|    n_updates            | 1100       |
|    policy_gradient_loss | -0.0492    |
|    value_loss           | 0.191      |
----------------------------------------
----------------------------------------
| rollout/                |            |
|    ep_len_mean          | 6.83e+03   |
|    ep_rew_mean          | -93.6      |
| time/                   |            |
|    fps                  | 11         |
|    iterations           | 14         |
|    time_elapsed         | 2398       |
|    total_timesteps      | 229376     |
| train/                  |            |
|    approx_kl            | 0.05663702 |
|    clip_fraction        | 0.317      |
|    clip_range           | 0.2        |
|    entropy_loss         | -1.19      |
|    explained_variance   | 0.868      |
|    learning_rate        | 0.0003     |
|    loss                 | 0.0316     |
|    n_updates            | 1110       |
|    policy_gradient_loss | -0.0632    |
|    value_loss           | 3.52       |
----------------------------------------
-----------------------------------------
| rollout/                |             |
|    ep_len_mean          | 6.83e+03    |
|    ep_rew_mean          | -93.6       |
| time/                   |             |
|    fps                  | 11          |
|    iterations           | 15          |
|    time_elapsed         | 2617        |
|    total_timesteps      | 231424      |
| train/                  |             |
|    approx_kl            | 0.094451435 |
|    clip_fraction        | 0.337       |
|    clip_range           | 0.2         |
|    entropy_loss         | -1.08       |
|    explained_variance   | 0.522       |
|    learning_rate        | 0.0003      |
|    loss                 | -0.00411    |
|    n_updates            | 1120        |
|    policy_gradient_loss | -0.059      |
|    value_loss           | 3.88        |
-----------------------------------------
-----------------------------------------
| rollout/                |             |
|    ep_len_mean          | 6.83e+03    |
|    ep_rew_mean          | -93.6       |
| time/                   |             |
|    fps                  | 11          |
|    iterations           | 16          |
|    time_elapsed         | 2836        |
|    total_timesteps      | 233472      |
| train/                  |             |
|    approx_kl            | 0.065667786 |
|    clip_fraction        | 0.284       |
|    clip_range           | 0.2         |
|    entropy_loss         | -0.939      |
|    explained_variance   | 0.324       |
|    learning_rate        | 0.0003      |
|    loss                 | 0.12        |
|    n_updates            | 1130        |
|    policy_gradient_loss | -0.0558     |
|    value_loss           | 13          |
-----------------------------------------
----------------------------------------
| rollout/                |            |
|    ep_len_mean          | 6.83e+03   |
|    ep_rew_mean          | -93.6      |
| time/                   |            |
|    fps                  | 11         |
|    iterations           | 17         |
|    time_elapsed         | 3041       |
|    total_timesteps      | 235520     |
| train/                  |            |
|    approx_kl            | 0.10070899 |
|    clip_fraction        | 0.325      |
|    clip_range           | 0.2        |
|    entropy_loss         | -1.06      |
|    explained_variance   | 0.855      |
|    learning_rate        | 0.0003     |
|    loss                 | 0.0765     |
|    n_updates            | 1140       |
|    policy_gradient_loss | -0.0485    |
|    value_loss           | 10.6       |
----------------------------------------
----------------------------------------
| rollout/                |            |
|    ep_len_mean          | 6.83e+03   |
|    ep_rew_mean          | -93.6      |
| time/                   |            |
|    fps                  | 11         |
|    iterations           | 18         |
|    time_elapsed         | 3230       |
|    total_timesteps      | 237568     |
| train/                  |            |
|    approx_kl            | 0.06469411 |
|    clip_fraction        | 0.157      |
|    clip_range           | 0.2        |
|    entropy_loss         | -0.496     |
|    explained_variance   | 0.924      |
|    learning_rate        | 0.0003     |
|    loss                 | 0.419      |
|    n_updates            | 1150       |
|    policy_gradient_loss | -0.00898   |
|    value_loss           | 6.5        |
----------------------------------------
----------------------------------------
| rollout/                |            |
|    ep_len_mean          | 6.83e+03   |
|    ep_rew_mean          | -93.6      |
| time/                   |            |
|    fps                  | 11         |
|    iterations           | 19         |
|    time_elapsed         | 3469       |
|    total_timesteps      | 239616     |
| train/                  |            |
|    approx_kl            | 0.12937734 |
|    clip_fraction        | 0.312      |
|    clip_range           | 0.2        |
|    entropy_loss         | -0.822     |
|    explained_variance   | 0.502      |
|    learning_rate        | 0.0003     |
|    loss                 | 0.0912     |
|    n_updates            | 1160       |
|    policy_gradient_loss | -0.0416    |
|    value_loss           | 3.53       |
----------------------------------------
RESETTING ENVIRONMENT
----------------------------------------
| rollout/                |            |
|    ep_len_mean          | 7.19e+03   |
|    ep_rew_mean          | -81.9      |
| time/                   |            |
|    fps                  | 11         |
|    iterations           | 20         |
|    time_elapsed         | 3646       |
|    total_timesteps      | 241664     |
| train/                  |            |
|    approx_kl            | 0.18866533 |
|    clip_fraction        | 0.404      |
|    clip_range           | 0.2        |
|    entropy_loss         | -0.952     |
|    explained_variance   | -0.14      |
|    learning_rate        | 0.0003     |
|    loss                 | -0.0264    |
|    n_updates            | 1170       |
|    policy_gradient_loss | -0.0685    |
|    value_loss           | 4.11       |
----------------------------------------
-----------------------------------------
| rollout/                |             |
|    ep_len_mean          | 7.19e+03    |
|    ep_rew_mean          | -81.9       |
| time/                   |             |
|    fps                  | 11          |
|    iterations           | 21          |
|    time_elapsed         | 3872        |
|    total_timesteps      | 243712      |
| train/                  |             |
|    approx_kl            | 0.024134522 |
|    clip_fraction        | 0.196       |
|    clip_range           | 0.2         |
|    entropy_loss         | -1.31       |
|    explained_variance   | 0.875       |
|    learning_rate        | 0.0003      |
|    loss                 | 72.4        |
|    n_updates            | 1180        |
|    policy_gradient_loss | -0.037      |
|    value_loss           | 361         |
-----------------------------------------
RESETTING ENVIRONMENT
---------------------------------------
| rollout/                |           |
|    ep_len_mean          | 7.09e+03  |
|    ep_rew_mean          | -93.4     |
| time/                   |           |
|    fps                  | 11        |
|    iterations           | 22        |
|    time_elapsed         | 4086      |
|    total_timesteps      | 245760    |
| train/                  |           |
|    approx_kl            | 0.1486245 |
|    clip_fraction        | 0.566     |
|    clip_range           | 0.2       |
|    entropy_loss         | -1.4      |
|    explained_variance   | -0.331    |
|    learning_rate        | 0.0003    |
|    loss                 | -0.0768   |
|    n_updates            | 1190      |
|    policy_gradient_loss | -0.0574   |
|    value_loss           | 0.359     |
---------------------------------------
-----------------------------------------
| rollout/                |             |
|    ep_len_mean          | 7.09e+03    |
|    ep_rew_mean          | -93.4       |
| time/                   |             |
|    fps                  | 10          |
|    iterations           | 23          |
|    time_elapsed         | 4324        |
|    total_timesteps      | 247808      |
| train/                  |             |
|    approx_kl            | 0.064710855 |
|    clip_fraction        | 0.275       |
|    clip_range           | 0.2         |
|    entropy_loss         | -1.33       |
|    explained_variance   | 0.841       |
|    learning_rate        | 0.0003      |
|    loss                 | 0.0265      |
|    n_updates            | 1200        |
|    policy_gradient_loss | -0.0271     |
|    value_loss           | 300         |
-----------------------------------------
----------------------------------------
| rollout/                |            |
|    ep_len_mean          | 7.09e+03   |
|    ep_rew_mean          | -93.4      |
| time/                   |            |
|    fps                  | 10         |
|    iterations           | 24         |
|    time_elapsed         | 4545       |
|    total_timesteps      | 249856     |
| train/                  |            |
|    approx_kl            | 0.15385272 |
|    clip_fraction        | 0.521      |
|    clip_range           | 0.2        |
|    entropy_loss         | -1.36      |
|    explained_variance   | 0.884      |
|    learning_rate        | 0.0003     |
|    loss                 | -0.106     |
|    n_updates            | 1210       |
|    policy_gradient_loss | -0.0739    |
|    value_loss           | 0.215      |
----------------------------------------
RESETTING ENVIRONMENT
----------------------------------------
| rollout/                |            |
|    ep_len_mean          | 7.03e+03   |
|    ep_rew_mean          | -105       |
| time/                   |            |
|    fps                  | 10         |
|    iterations           | 25         |
|    time_elapsed         | 4723       |
|    total_timesteps      | 251904     |
| train/                  |            |
|    approx_kl            | 0.05204186 |
|    clip_fraction        | 0.277      |
|    clip_range           | 0.2        |
|    entropy_loss         | -1.16      |
|    explained_variance   | 0.935      |
|    learning_rate        | 0.0003     |
|    loss                 | 0.316      |
|    n_updates            | 1220       |
|    policy_gradient_loss | -0.0606    |
|    value_loss           | 9.34       |
----------------------------------------
-----------------------------------------
| rollout/                |             |
|    ep_len_mean          | 7.03e+03    |
|    ep_rew_mean          | -105        |
| time/                   |             |
|    fps                  | 10          |
|    iterations           | 26          |
|    time_elapsed         | 4902        |
|    total_timesteps      | 253952      |
| train/                  |             |
|    approx_kl            | 0.047298927 |
|    clip_fraction        | 0.371       |
|    clip_range           | 0.2         |
|    entropy_loss         | -1.08       |
|    explained_variance   | 0.876       |
|    learning_rate        | 0.0003      |
|    loss                 | 94.7        |
|    n_updates            | 1230        |
|    policy_gradient_loss | -0.00887    |
|    value_loss           | 290         |
-----------------------------------------
-----------------------------------------
| rollout/                |             |
|    ep_len_mean          | 7.03e+03    |
|    ep_rew_mean          | -105        |
| time/                   |             |
|    fps                  | 10          |
|    iterations           | 27          |
|    time_elapsed         | 5108        |
|    total_timesteps      | 256000      |
| train/                  |             |
|    approx_kl            | 0.057368577 |
|    clip_fraction        | 0.374       |
|    clip_range           | 0.2         |
|    entropy_loss         | -1.1        |
|    explained_variance   | 0.688       |
|    learning_rate        | 0.0003      |
|    loss                 | -0.0284     |
|    n_updates            | 1240        |
|    policy_gradient_loss | -0.0353     |
|    value_loss           | 0.323       |
-----------------------------------------
----------------------------------------
| rollout/                |            |
|    ep_len_mean          | 7.03e+03   |
|    ep_rew_mean          | -105       |
| time/                   |            |
|    fps                  | 10         |
|    iterations           | 28         |
|    time_elapsed         | 5330       |
|    total_timesteps      | 258048     |
| train/                  |            |
|    approx_kl            | 0.17968875 |
|    clip_fraction        | 0.488      |
|    clip_range           | 0.2        |
|    entropy_loss         | -0.982     |
|    explained_variance   | 0.816      |
|    learning_rate        | 0.0003     |
|    loss                 | 5.99e-05   |
|    n_updates            | 1250       |
|    policy_gradient_loss | -0.0731    |
|    value_loss           | 0.943      |
----------------------------------------
-----------------------------------------
| rollout/                |             |
|    ep_len_mean          | 7.03e+03    |
|    ep_rew_mean          | -105        |
| time/                   |             |
|    fps                  | 10          |
|    iterations           | 29          |
|    time_elapsed         | 5543        |
|    total_timesteps      | 260096      |
| train/                  |             |
|    approx_kl            | 0.112591684 |
|    clip_fraction        | 0.395       |
|    clip_range           | 0.2         |
|    entropy_loss         | -0.872      |
|    explained_variance   | 0.372       |
|    learning_rate        | 0.0003      |
|    loss                 | -0.0584     |
|    n_updates            | 1260        |
|    policy_gradient_loss | -0.036      |
|    value_loss           | 0.657       |
-----------------------------------------
----------------------------------------
| rollout/                |            |
|    ep_len_mean          | 7.03e+03   |
|    ep_rew_mean          | -105       |
| time/                   |            |
|    fps                  | 10         |
|    iterations           | 30         |
|    time_elapsed         | 5703       |
|    total_timesteps      | 262144     |
| train/                  |            |
|    approx_kl            | 0.14312765 |
|    clip_fraction        | 0.318      |
|    clip_range           | 0.2        |
|    entropy_loss         | -0.587     |
|    explained_variance   | 0.818      |
|    learning_rate        | 0.0003     |
|    loss                 | -0.0588    |
|    n_updates            | 1270       |
|    policy_gradient_loss | -0.0201    |
|    value_loss           | 0.509      |
----------------------------------------
RESETTING ENVIRONMENT
Traceback (most recent call last):
  File "C:\Users\yerke\OneDrive - Bob Jones University\Year 4 S1\CpS 499\MyAi\sc2env.py", line 48, in step
    with open('state_rwd_action.pkl', 'rb') as f:
PermissionError: [Errno 13] Permission denied: 'state_rwd_action.pkl'
During handling of the above exception, another exception occurred:
Traceback (most recent call last):
  File "C:\Users\yerke\OneDrive - Bob Jones University\Year 4 S1\CpS 499\MyAi\load-train-model.py", line 44, in <module>
    model.learn(total_timesteps=TIMESTEPS, reset_num_timesteps=False, tb_log_name=f"PPO")
  File "C:\Users\yerke\AppData\Local\Programs\Python\Python310\lib\site-packages\stable_baselines3\ppo\ppo.py", line 304, in learn
    return super(PPO, self).learn(
  File "C:\Users\yerke\AppData\Local\Programs\Python\Python310\lib\site-packages\stable_baselines3\common\on_policy_algorithm.py", line 250, in learn
    continue_training = self.collect_rollouts(self.env, callback, self.rollout_buffer, n_rollout_steps=self.n_steps)
  File "C:\Users\yerke\AppData\Local\Programs\Python\Python310\lib\site-packages\stable_baselines3\common\on_policy_algorithm.py", line 178, in collect_rollouts
    new_obs, rewards, dones, infos = env.step(clipped_actions)
  File "C:\Users\yerke\AppData\Local\Programs\Python\Python310\lib\site-packages\stable_baselines3\common\vec_env\base_vec_env.py", line 162, in step
    return self.step_wait()
  File "C:\Users\yerke\AppData\Local\Programs\Python\Python310\lib\site-packages\stable_baselines3\common\vec_env\vec_transpose.py", line 95, in step_wait
    observations, rewards, dones, infos = self.venv.step_wait()
  File "C:\Users\yerke\AppData\Local\Programs\Python\Python310\lib\site-packages\stable_baselines3\common\vec_env\dummy_vec_env.py", line 43, in step_wait
    obs, self.buf_rews[env_idx], self.buf_dones[env_idx], self.buf_infos[env_idx] = self.envs[env_idx].step(
  File "C:\Users\yerke\AppData\Local\Programs\Python\Python310\lib\site-packages\stable_baselines3\common\monitor.py", line 90, in step
    observation, reward, done, info = self.env.step(action)
  File "C:\Users\yerke\OneDrive - Bob Jones University\Year 4 S1\CpS 499\MyAi\sc2env.py", line 66, in step
    with open('state_rwd_action.pkl', 'wb') as f:
PermissionError: [Errno 13] Permission denied: 'state_rwd_action.pkl'